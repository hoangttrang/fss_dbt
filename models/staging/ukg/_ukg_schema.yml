version: 2

# This is used to documentation on the database and the schema 
models: 
  - name: stg_ukg_employee
    data_tests:
      - dbt_utils.unique_combination_of_columns: 
          combination_of_columns:
            - id 
            - employee_id
            - company_id
            - ssn
            - national_id
            - person_id
            - address_id
  - name: stg_ukg_employment
    data_tests:
      - dbt_utils.unique_combination_of_columns: 
          combination_of_columns:
            - employee_id
            - company_id
  - name: stg_ukg_employee_change
    data_tests:
      - dbt_utils.unique_combination_of_columns: 
          combination_of_columns:
            - company_id 
            - employee_id
  - name: stg_ukg_earning_history_base_element
    data_tests: 
      - dbt_utils.unique_combination_of_columns: 
          combination_of_columns:
            - company_id 
            - employee_id
            - earning_id
            - employment_id 
            - job_id 
            - location_id
  - name: stg_ukg_dependent_deduction
    data_tests: 
    - dbt_utils.unique_combination_of_columns: 
        combination_of_columns:
          - id
          - contact_id
          - company_id 
          - employee_id
  - name: stg_ukg_employee_status
    data_tests:
      - dbt_utils.unique_combination_of_columns: 
          combination_of_columns:
            - company_id 
            - employee_id
  - name: stg_ukg_job
    data_tests:
      - dbt_utils.unique_combination_of_columns: 
          combination_of_columns:
            - id
  - name: stg_ukg_organization_level
    data_tests:
      - dbt_utils.unique_combination_of_columns: 
          combination_of_columns:
            - id
            - level
  - name: stg_ukg_compensation
    data_tests:
      - dbt_utils.unique_combination_of_columns: 
          combination_of_columns:
            - company_id
            - employee_id
            - pay_group
            - primary_job_id
  - name: stg_ukg_pay_register
    data_tests:
      - dbt_utils.unique_combination_of_columns: 
          combination_of_columns:
            - company_id
            - employee_id
            - employment_id
            - location_id 
            - organization_level_1_id
            - organization_level_2_id
            - organization_level_3_id
            - organization_level_4_id
            - pay_group