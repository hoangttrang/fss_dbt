version: 2

# This is used to documentation on the database and the schema 
models: 
  - name: mbr_report
    description: "This model is used to generate Motive monthly MBR report by region by site that gets update daily."
  - name: mbr_region_report 
    description: "This model is used to generate Motive monthly MBR report by region that gets update daily."
  - name: ukg_full_employee_list 
    tests: 
      - unique:
          column_name: employee_id
      - not_null:
          column_name: employee_id
  - name: ukg_weekly_payment_salary
  - name: ukg_hourly_salary_spend
  - name: ukg_time_entries_utc_local_time_convert
    description: "This model converts start and end time in UTC into local time based on employee's timezone."
  - name: ggl_ads_campaign_report
    description: "Google Ads campaigns data."
  - name: dc_registration_users
    description: "This model is used to map digital chalk registration users to their respective users with user name, email."
  - name: ringcx_agent_login_time_agg
    description: "This model aggregates agents with the same agent login ID because of overnight login and logout."
    tests:
    - unique:
        column_name: agent_login_id
    - not_null:
        column_name: agent_login_id
    - dbt_utils.unique_combination_of_columns:
        arguments:
          combination_of_columns:
            - agent_id
            - agent_login_start_date
            - agent_login_start_time
    - dbt_utils.expression_is_true:
        arguments:
          expression: "total_login_time >= available"
        config:
          severity: error